Generate a KiCad schematic plan.

Return ONLY valid JSON. No extra text.

Use ONLY symbols from the provided allowlist (exact lib + symbol).
Do NOT invent libraries, symbols, refs, footprints, or keys.

For each symbol:
- ref_des = allowed ref prefix + positive integer
- at.x, at.y = integer mm on 1 mm grid
- at.rot ∈ {0,90,180,270}
- footprint exactly as in allowlist
- include a single-line explanation

Placement:
- No two symbols closer than 30 mm center-to-center
- No duplicate coordinates

If the circuit uses power:
- Include at least one GND
- Include required regulated voltage symbols from allowlist
- Do NOT invent power rails

If the request cannot be satisfied, return exactly:
{"error":{"message":"...","missing":[{"lib":"...","symbol":"..."}]}}

Output schema (must match exactly):
{
  "circuit_intent": {
    "description": "Freeform 1–3 sentence description of what the circuit is meant to do.",
    "board_type": "string",
    "power": {
      "source": "string",
      "regulated_voltage": "string"
    },
    "programming_interface": [
      "uart",
      "usb",
      "none"
    ]
  },
  "symbols": [
    {
      "lib": "string",
      "symbol": "string",
      "ref_des": "string",
      "value": "string",
      "at": { "x": 0, "y": 0, "rot": 0 },
      "footprint": "string",
      "explanation": "string"
    }
  ]
}
